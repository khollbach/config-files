#!/bin/bash

pushd ~/config-files > /dev/null

# Copy dotfiles to home dir.
files=".profile .bashrc .bash_aliases .bash_functions
       .tmux.conf .vimrc .inputrc .ripgreprc"
for f in $files; do
    cp -v "$f" ~
done

# Reload bashrc definitions if you sourced this script from your shell.
source ~/.bashrc

# Reload tmux conf. Ignore failure if tmux isn't running.
tmux source-file ~/.tmux.conf 2> /dev/null || :

# Install pathogen.
mkdir -vp ~/.vim/autoload
cp -v pathogen.vim ~/.vim/autoload

# Ensure swap and undo dirs exist.
mkdir -vp ~/.vim/swap ~/.vim/undo

# Hack to disable Vim's autoindent for latex files. (It's terrible.)
mkdir -vp ~/.vim/indent
echo "let b:did_indent = 1" > ~/.vim/indent/tex.vim

# Copy init.el to .emacs.d
mkdir -vp ~/.emacs.d
cp -v .emacs.d/init.el ~/.emacs.d

# Neovim!
mkdir -vp ~/.config/nvim
cp -v .config/nvim/init.vim ~/.config/nvim

popd > /dev/null
